{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?0090"],"names":["_createElementVNode","class","for","value","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","fio","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_component_app_status","type","status","_hoisted_5","_hoisted_6","id","onClick","_createElementBlock","_hoisted_12","_ctx","params","setup","route","useRoute","router","useRouter","store","useStore","ref","loading","request","onMounted","async","dispatch","hasChanges","computed","remove","push","update","data","currency","components","AppPage","AppLoader","AppStatus","__exports__","render"],"mappings":"iJAISA,eAA8B,cAAtB,iBAAa,G,EACrBA,eAAwB,cAAhB,WAAO,G,EACfA,eAAsB,cAAd,SAAK,G,EACbA,eAAuB,cAAf,UAAM,G,GAIZC,MAAM,gB,EACRD,eAAkC,SAA3BE,IAAI,UAAS,UAAM,G,EAEvBF,eAAsC,UAA9BG,MAAM,QAAO,YAAQ,G,EAC7BH,eAA0C,UAAlCG,MAAM,aAAY,WAAO,G,EACjCH,eAAuC,UAA/BG,MAAM,UAAS,WAAO,G,EAC9BH,eAA4C,UAApCG,MAAM,WAAU,eAAW,G,GAHnCC,EACAC,EACAC,EACAC,G,SASEN,MAAM,0B,gIAxBCO,WAAO,iBAAzBC,eAAwCC,GAAAC,SACCH,WAAO,iBAAhDC,eAqBWG,G,MArBDC,KAAA,GAAKC,MAAM,U,wBAClB,IAAwD,CAAxDd,eAAwD,UAArDe,EAA8B,oBAAE,eAAGP,UAAQQ,KAAG,KACjDhB,eAAoD,UAAjDiB,EAAwB,oBAAE,eAAGT,UAAQU,OAAK,KAC7ClB,eAA6D,UAA1DmB,EAAsB,oBAAE,eAAGX,WAASA,UAAQY,SAAM,KACrDpB,eAEI,UAFDqB,EAAuB,qBACvB,eAAqCC,GAAxBC,KAAMf,UAAQgB,Q,mBAG9BxB,eAQM,MARNyB,EAQM,CAPHC,EAAkC,eAClC1B,eAKS,UALD2B,GAAG,S,qCAAkBnB,SAAM,I,gBAANA,cAQhCR,eAA2D,UAAnDC,MAAM,aAAc2B,QAAK,oBAAEpB,2BAAQ,WAEDA,cAAU,iBAApDqB,eAAuE,U,MAA/D5B,MAAM,MAAO2B,QAAK,oBAAEpB,2BAA0B,aAAQ,wB,yBAGjEqB,eAEK,KAFLC,EAA0C,kBACzB,eAAGC,SAAOC,OAAOL,IAAK,SACvC,I,sFAcY,GACZM,QACG,MAAMC,EAAQC,iBACRC,EAASC,iBACTC,EAAQC,iBACRf,EAASgB,iBACTC,EAAUD,gBAAI,GACdE,EAAUF,eAAI,IAEpBG,eAAUC,UAAY,MACnBH,EAAQtC,OAAQ,EAChBuC,EAAQvC,YAAcmC,EAAMO,SAAS,kBAAmBX,EAAMF,OAAOL,IACrEH,EAAOrB,MAAqB,QAAjB,EAAIuC,EAAQvC,aAAK,aAAb,EAAeqB,OAC9BiB,EAAQtC,OAAQ,IAGnB,MAAM2C,EAAaC,eAAS,IAAML,EAAQvC,MAAMqB,SAAWA,EAAOrB,OAE5D6C,EAASJ,gBACNN,EAAMO,SAAS,iBAAkBX,EAAMF,OAAOL,IACpDS,EAAOa,KAAK,MAGTC,EAASN,UACZ,MAAMO,EAAO,IAAKT,EAAQvC,MAAOqB,OAAQA,EAAOrB,MAAOwB,GAAIO,EAAMF,OAAOL,UAClEW,EAAMO,SAAS,iBAAkBM,GACvCT,EAAQvC,MAAMqB,OAASA,EAAOrB,OAGjC,MAAO,CAAEsC,UAASC,UAASU,gBAAUJ,SAAQE,SAAQ1B,SAAQsB,eAEhEO,WAAY,CAAEC,eAASC,iBAAWC,mB,qBCpErC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4783.5e059fc5.js","sourcesContent":["<template>\n\n   <app-loader v-if=\"loading\"></app-loader>\n   <app-page back title=\"Заявка\" v-else-if=\"request\">\n      <p><strong>Имя владельца</strong>: {{ request.fio }}</p>\n      <p><strong>Телефон</strong>: {{ request.phone }}</p>\n      <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\n      <p><strong>Статус</strong>:\n         <app-status :type=\"request.status\" />\n      </p>\n\n      <div class=\"form-control\">\n         <label for=\"status\">Статус</label>\n         <select id=\"status\" v-model=\"status\">\n            <option value=\"done\">Завершен</option>\n            <option value=\"cancelled\">Отменен</option>\n            <option value=\"active\">Активен</option>\n            <option value=\"pending\">Выполняется</option>\n         </select>\n      </div>\n\n      <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n\n      <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n   </app-page>\n\n   <h3 v-else class=\"text-center text-white\">\n      Заявки с ID = {{ $route.params.id }} нет.\n   </h3>\n\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute, useRouter } from 'vue-router';\nimport AppPage from '../components/ui/AppPage';\nimport AppLoader from '../components/ui/AppLoader';\nimport AppStatus from '../components/ui/AppStatus';\nimport { currency } from '@/utils/currency';\n\n\nexport default {\n   setup() {\n      const route = useRoute(); // получаем текущий роут\n      const router = useRouter();\n      const store = useStore();\n      const status = ref();\n      const loading = ref(true);\n      const request = ref({});\n\n      onMounted(async () => {\n         loading.value = true;\n         request.value = await store.dispatch('request/loadOne', route.params.id);\n         status.value = request.value?.status;\n         loading.value = false;\n      });\n\n      const hasChanges = computed(() => request.value.status !== status.value);\n\n      const remove = async () => {\n         await store.dispatch('request/remove', route.params.id);\n         router.push('/');\n      };\n\n      const update = async () => {\n         const data = { ...request.value, status: status.value, id: route.params.id };\n         await store.dispatch('request/update', data);\n         request.value.status = status.value;\n      };\n\n      return { loading, request, currency, remove, update, status, hasChanges };\n   },\n   components: { AppPage, AppLoader, AppStatus },\n};\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./Request.vue?vue&type=template&id=6961f636\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Frontend\\\\Projects\\\\Vue-js\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}