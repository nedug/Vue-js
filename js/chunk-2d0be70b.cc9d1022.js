(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be70b"],{"2fef":function(e,t,r){"use strict";r.r(t);var a=r("7a23");const s=Object(a["h"])("h1",null,"Войти в систему",-1),l=Object(a["h"])("h4",{class:"text-danger"},"Для теста используйте пресохраненный email и пароль",-1),c=Object(a["h"])("label",{for:"email"},"Email",-1),i={key:0},o=Object(a["h"])("label",{for:"password"},"Пароль",-1),b={key:0},n=["disabled"],u={key:0,class:"text-danger"};function d(e,t,r,d,m,p){return Object(a["z"])(),Object(a["g"])("form",{class:"card",onSubmit:t[4]||(t[4]=Object(a["S"])((...t)=>e.onSubmit&&e.onSubmit(...t),["prevent"]))},[s,l,Object(a["h"])("div",{class:Object(a["t"])(["form-control",{invalid:e.eError}])},[c,Object(a["R"])(Object(a["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),onBlur:t[1]||(t[1]=(...t)=>e.eBlur&&e.eBlur(...t))},null,544),[[a["M"],e.email]]),e.eError?(Object(a["z"])(),Object(a["g"])("small",i,Object(a["I"])(e.eError),1)):Object(a["f"])("",!0)],2),Object(a["h"])("div",{class:Object(a["t"])(["form-control",{invalid:e.pError}])},[o,Object(a["R"])(Object(a["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),onBlur:t[3]||(t[3]=(...t)=>e.pBlur&&e.pBlur(...t))},null,544),[[a["M"],e.password]]),e.pError?(Object(a["z"])(),Object(a["g"])("small",b,Object(a["I"])(e.pError),1)):Object(a["f"])("",!0)],2),Object(a["h"])("button",{class:"btn primary",type:"submit",disabled:e.isSubmitting||e.isTooManyAttempts},"Войти",8,n),e.isTooManyAttempts?(Object(a["z"])(),Object(a["g"])("div",u,"Слишком много попыток входа. Попробуйте позже")):Object(a["f"])("",!0)],32)}r("14d9");var m=r("7bb1"),p=r("506a"),O=r("5502"),j=r("6605");const h=()=>{const e=Object(O["b"])(),t=Object(j["d"])(),{handleSubmit:r,isSubmitting:s,submitCount:l}=Object(m["b"])({initialValues:{email:"test@mail.ru",password:"123123"}}),c=r(async r=>{try{console.log("Form:",r),await e.dispatch("auth/login",r),t.push("/")}catch(a){}}),i=Object(a["c"])(()=>l.value>=3);Object(a["O"])(i,e=>e&&setTimeout(()=>l.value=0,2e3));const{value:o,errorMessage:b,handleBlur:n}=Object(m["a"])("email",p["b"]().trim().required("Введите ваш email").email("Введите корректный email")),{value:u,errorMessage:d,handleBlur:h}=Object(m["a"])("password",p["b"]().trim().required("Введите ваш password").min(6,"Пароль должен быть больше 6 символов"));return{email:o,password:u,eError:b,pError:d,eBlur:n,pBlur:h,onSubmit:c,isSubmitting:s,isTooManyAttempts:i}};var g=r("e16f"),w={setup(){const e=Object(j["c"])(),t=Object(O["b"])();return e.query.message&&t.dispatch("setMessage",{value:Object(g["a"])(e.query.message),type:"warning"},{root:!0}),{...h()}}},y=r("6b0d"),f=r.n(y);const v=f()(w,[["render",d]]);t["default"]=v}}]);
//# sourceMappingURL=chunk-2d0be70b.cc9d1022.js.map